<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ribbon Cutting Effect</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            width: 100vw;
            font-family: Arial, sans-serif;
            background: #f0f0f0;
            overflow: hidden;
            cursor: url('./images/scissors.png'), auto;
        }

        .ribbon {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 80px;
            background: linear-gradient(45deg, #ff0000, #cc0000);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateY(-50%);
            z-index: 1;
        }

        .ribbon-half {
            position: absolute;
            top: 50%;
            height: 80px;
            background: linear-gradient(45deg, #ff0000, #cc0000);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: rotate(180deg);
        }

        .ribbon-half.left {
            left: 0;
            transform-origin: left center;
            animation: fall-left 1.5s ease-in forwards;
        }

        .ribbon-half.right {
            right: 0;
            transform-origin: right center;
            animation: fall-right 1.5s ease-in forwards;
        }

        @keyframes fall-left {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(90deg);
            }
        }

        @keyframes fall-right {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(-90deg);
            }
        }

        .logo-wrapper {
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: none;
            -webkit-user-drag: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
            user-drag: none;
            z-index: 2;
        }

        img {
            pointer-events: none;
            -webkit-user-drag: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
            user-drag: none;
        }

        .flower {
            position: absolute;
            left: 50%;
            top: 0;
            transform: translate(-50%, -30%);
        }

        .pole {
            height: 98vh;
            width: 50px;
            top: 1vh;
            background: #1053ee;
            z-index: 1;
            border-top: 10px solid black;
            border-bottom: 10px solid black;
        }

        .left-pole {
            position: absolute;
            left: 0;
        }

        .right-pole {
            position: absolute;
            right: 0;
        }

        .bg-image {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 5vw 5vh;
            position: absolute;
            top: 0;
            left: 0;
        }

        .image1 {
            width: 60%;
            height: auto;
            filter: blur(10px);
        }

        .fade-in {
            animation: fadeIn 1s ease-in forwards;
        }

        @keyframes fadeIn {
            0% {
                filter: blur(10px);
                scale: 1;
            }

            100% {
                filter: blur(0);
                scale: 1.75;
                /* transform: rotate(360deg); */
            }
        }
    </style>
    <style>
        @import url("https://fonts.googleapis.com/css?family=Montserrat&display=swap");

        * {
            padding: 0;
            margin: 0;
        }

        .caption-wrapper {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #13007D;

            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }


        .signature-caption-wrapper,
        .verified-caption-wrapper {
            color: #13007D;
            scale: 0.75;
            width: 100vw;
            display: flex;
            align-items: center;
            justify-content: center;

            pointer-events: none;
            -webkit-user-drag: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
            user-drag: none;

            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .caption {
            font-family: "Montserrat Medium", poppins, Arial, Helvetica, sans-serif;
            max-width: 40ch;
            text-align: center;
            transform: scale(0.94);
            animation: scale 3s forwards cubic-bezier(0.5, 1, 0.89, 1);
        }

        @keyframes scale {
            100% {
                transform: scale(1);
            }
        }

        span {
            display: inline-block;
            opacity: 0;
            filter: blur(4px);
        }

        .mayor {
            font-weight: bold;
            color: red;
        }

        span:nth-child(1) {
            animation: fade-in 0.8s 0.1s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(2) {
            animation: fade-in 0.8s 0.2s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(3) {
            animation: fade-in 0.8s 0.3s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(4) {
            animation: fade-in 0.8s 0.4s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(5) {
            animation: fade-in 0.8s 0.5s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(6) {
            animation: fade-in 0.8s 0.6s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(7) {
            animation: fade-in 0.8s 0.7s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(8) {
            animation: fade-in 0.8s 0.8s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(9) {
            animation: fade-in 0.8s 0.9s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(10) {
            animation: fade-in 0.8s 1s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(11) {
            animation: fade-in 0.8s 1.1s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(12) {
            animation: fade-in 0.8s 1.2s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(13) {
            animation: fade-in 0.8s 1.3s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(14) {
            animation: fade-in 0.8s 1.4s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(15) {
            animation: fade-in 0.8s 1.5s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(16) {
            animation: fade-in 0.8s 1.6s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(17) {
            animation: fade-in 0.8s 1.7s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        span:nth-child(18) {
            animation: fade-in 0.8s 1.8s forwards cubic-bezier(0.11, 0, 0.5, 0);
        }

        @keyframes fade-in {
            100% {
                opacity: 1;
                filter: blur(0);
            }
        }

        .intro-logo {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translate(-50%, 0%);
            z-index: -1;
        }

        .intro-container,
        .verified-wrapper {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <div class="bg-image">
        <img src="./images/Home page.png" alt="bg" class="image1">
    </div>
    <div class="logo-wrapper">
        <img src="./images/CAN logo.png" height="120px" width="120px" alt="can logo">
    </div>
    <div class="ribbon">
        <img src="./images/ribbon.png" alt="Ribbon" height="300%" class="flower">
    </div>
    <div class="left-pole pole"></div>
    <div class="right-pole pole"></div>

    <div class="caption-wrapper hidden" id="caption-wrapper">

        <h1 class="caption caption1 hidden">
            <span>यस</span>
            <span>ऐतिहासिक</span>
            <span>क्षणलाई</span>
            <span>उज्यालो</span>
            <span>प्रदान</span>
            <span>गर्न</span>
            <span>,</span>
            <span>यहाँलाई</span>
            <span>डिजिटल</span>
            <span>दीप</span>
            <span>प्रज्वलन</span>
            <span>गर्न</span>
            <span>विनम्र</span>
            <span>अनुरोध</span>
            <span>गर्दछौं</span>
            <span>|</span>
            <span></span>
            <span></span>
        </h1>
        <audio src="./music/diya.mp3" hidden class="welcome-audio"></audio>
    </div>
    <script>
        const ribbon = document.querySelector('.ribbon');

        let isCutting = false;
        let cutStartX = 0;

        ribbon.addEventListener('mousedown', startCut);
        ribbon.addEventListener('mousemove', performCut);
        ribbon.addEventListener('mouseup', endCut);
        ribbon.addEventListener('mouseleave', endCut);

        ribbon.addEventListener('touchstart', (e) => {
            e.preventDefault();
            startCut(e.touches[0]);
        });
        ribbon.addEventListener('touchmove', (e) => {
            e.preventDefault();
            performCut(e.touches[0]);
        });
        ribbon.addEventListener('touchend', endCut);

        function startCut(e) {
            isCutting = true;
            cutStartX = e.clientX;
        }

        function performCut(e) {
            if (isCutting) {
                const currentX = e.clientX;
                if (Math.abs(currentX - cutStartX) > 10) {
                    endCut();
                    cutRibbon(currentX);
                }
            }
        }

        function endCut() {
            isCutting = false;
        }

        function cutRibbon(cutX) {
            const rect = ribbon.getBoundingClientRect();
            const ribbonWidth = rect.width;
            const ribbonLeft = rect.left;
            const cutPosition = cutX - ribbonLeft;

            const ribbonLeftHalf = document.createElement('div');
            const ribbonRightHalf = document.createElement('div');

            ribbonLeftHalf.className = 'ribbon-half left';
            ribbonRightHalf.className = 'ribbon-half right';

            ribbonLeftHalf.style.width = `${cutPosition}px`;
            ribbonRightHalf.style.width = `${ribbonWidth - cutPosition}px`;

            ribbonLeftHalf.style.left = `${ribbonLeft}px`;
            ribbonRightHalf.style.left = `${cutX}px`;

            document.body.appendChild(ribbonLeftHalf);
            document.body.appendChild(ribbonRightHalf);

            ribbon.remove();
            document.querySelector('.image1').classList.add('fade-in');
            document.body.style.cursor = 'default';

            setTimeout(() => {
                const diyaAudio = document.querySelector('.welcome-audio');
                document.querySelector('.caption-wrapper').classList.remove('hidden');
                document.querySelector('.caption1').classList.remove('hidden');
                document.querySelector('.bg-image').classList.add('hidden');
                diyaAudio.play();

                diyaAudio.addEventListener('ended', () => {
                    setTimeout(() => {
                        window.location.href = "./diya.html";
                    }, 1000);
                });
            }, 3000);
        }
    </script>
</body>

</html>