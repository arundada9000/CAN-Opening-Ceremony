<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Diya Animation</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        body {
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            /* background: linear-gradient(#190547 60%, #6031c0 60%); */
        }

        .logo {
            position: absolute;
            top: 0px;
            left: 50px;
            height: 100px;
            width: 100px;
        }

        .container {
            height: 500px;
            width: 500px;
            position: absolute;
            transform: translate(-50%, -50%);
            top: 50%;
            left: 50%;
        }

        .diya {
            height: 150px;
            width: 300px;
            background-color: #fdcf0f;
            border-radius: 0 0 150px 150px;
            position: absolute;
            margin: auto;
            left: 0;
            right: 0;
            bottom: 50px;
            overflow: hidden;
        }

        .inside {
            width: 300px;
            height: 60px;
            background-color: #fd500a;
            border-radius: 50%;
            position: absolute;
            margin: auto;
            left: 0;
            right: 0;
            bottom: 170px;
        }

        .shadow {
            height: 60px;
            width: 320px;
            background-color: rgba(25, 5, 71, 0.5);
            position: absolute;
            bottom: 30px;
            border-radius: 50%;
            margin: auto;
            left: 0;
            right: 0;
        }

        /* Thread (Baati) */
        .thread {
            width: 10px;
            height: 30px;
            z-index: 4;
            background-color: #3d2b1f;
            position: absolute;
            top: 0px;
            left: 50%;
            transform: rotate(0deg);
            border-radius: 5px;
            cursor: pointer;
        }


        /* Flame styles when diya is lit */
        .flame {
            height: 170px;
            width: 170px;
            background-color: #f4cb28;
            border-radius: 160px 0;
            transform: rotate(-45deg);
            position: absolute;
            margin: auto;
            left: 0;
            right: 0;
            bottom: 36px;
            animation: scale-up 2s infinite;
        }

        @keyframes scale-up {
            50% {
                transform: rotate(-45deg) scale(1.05);
                bottom: 42px;
            }
        }

        .flame:after {
            content: "";
            position: absolute;
            height: 120px;
            width: 120px;
            background-color: #e68530;
            border-radius: 120px 0;
            bottom: 0;
        }

        .light {
            height: 330px;
            width: 330px;
            /* background-color: rgba(251, 213, 60, 0.2); */
            border-radius: 50%;
            position: absolute;
            left: -15px;
            bottom: 0;
        }

        .light:before,
        .light:after {
            content: "";
            position: absolute;
            height: 80px;
            width: 80px;
            /* background-color: rgba(241, 203, 52, 0.3); */
            border-radius: 50%;
            animation: shine 5s linear infinite;
        }

        @keyframes shine {
            50% {
                transform: scale(0.7);
                opacity: 0.2;
            }
        }

        .light:before {
            bottom: 30px;
            right: 60px;
        }

        .light:after {
            top: 50px;
            left: 80px;
            animation-delay: 1s;
        }

        .line-1,
        .line-2 {
            position: absolute;
            height: 60px;
            width: 320px;
            border: none;
            border-bottom: 8px solid #ffffff;
            border-radius: 50%;
            left: -10px;
        }

        .line-2 {
            top: 60px;
        }

        .dots {
            height: 60px;
            width: 320px;
            border: none;
            border-bottom: 10px dotted #fd500a;
            position: absolute;
            border-radius: 50%;
            top: 30px;
            left: -10px;
        }

        .hidden {
            display: none;
            transform: scale(0);
            opacity: 0;
        }

        .show {
            display: block;
            animation: scaleUp 1s ease-out forwards;
        }

        @keyframes scaleUp {
            0% {
                scale: 0;
                opacity: 0;
            }

            100% {
                bottom: 36px;
                scale: 1;
                opacity: 1;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <audio src="./music/swostik.m4a" class="music"></audio>
    <img src="./images/CAN logo.png" class="logo" alt="Can Logo">
    <div class="container">
        <div class="shadow"></div>
        <div class="diya">
            <div class="line-1"></div>
            <div class="line-2"></div>
            <div class="dots"></div>
            <div class="thread" onclick="lightDiya()"></div>
        </div>
        <div class="inside">
            <div class="light hidden"></div>
            <div class="flame hidden"></div>
        </div>

    </div>
    <!-- <video class="video hidden" src="./videos/can info final.mp4" height="100%" width="100%"> -->
    <video class="video hidden" src="https://youtu.be/y_LMSV1X3sU" height="100%" width="100%">

    </video>
    <script>
        function lightDiya() {
            document.querySelector(".music").play();
            const flame = document.querySelector(".flame");
            flame.classList.remove("hidden");
            const light = document.querySelector(".light");
            light.classList.remove("hidden");
            void flame.offsetWidth;
            flame.classList.add("show");
            void light.offsetWidth;
            light.classList.add("show");

            setTimeout(() => {
                const video = document.querySelector(".video");
                document.querySelector(".container").classList.add("hidden");
                document.querySelector(".logo").classList.add("hidden");
                video.classList.remove("hidden");
                video.play();
            }, 10000)
        }
    </script>
</body>

</html>